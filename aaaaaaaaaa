public class Main {
    public static void main(String[] args) {
        SwingUtilities.invokeLater(() -> {
            GlownyView view = new GlownyView();
            UzytkownikModel model = new UzytkownikModel();
            new GlownyController(view, model);
        });
    }
}



import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class GlownyController {

    private GlownyView view;
    private UzytkownikModel model;

    public GlownyController(GlownyView view, UzytkownikModel model) {
        this.view = view;
        this.model = model;

        // Obsługa przycisku
        view.przyciskLogin.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                obsluzLogowanie();
            }
        });
    }

    private void obsluzLogowanie() {

        SwingWorker<Boolean, Void> worker = new SwingWorker<Boolean, Void>() {

            @Override
            protected Boolean doInBackground() throws Exception {
                view.przyciskLogin.setEnabled(false);
                view.etykietaStatus.setText("Trwa weryfikacja danych...");

                String user = view.poleUser.getText();
                String pass = new String(view.polePass.getPassword());

                return model.walidujLogowanie(user, pass);
            }

            @Override
            protected void done() {
                try {
                    boolean wynik = get();

                    view.przyciskLogin.setEnabled(true);

                    if (wynik) {
                        view.etykietaStatus.setText("Logowanie pomyślne!");
                    } else {
                        view.etykietaStatus.setText("Błędny login lub hasło!");
                    }

                } catch (Exception e) {
                    view.etykietaStatus.setText("Wystąpił błąd.");
                }
            }
        };

        worker.execute();
    }
}




import javax.swing.*;

public class GlownyView extends JFrame {

    public JTextField poleUser;
    public JPasswordField polePass;
    public JButton przyciskLogin;
    public JLabel etykietaStatus;

    public GlownyView() {
        setTitle("System Logowania MVC");
        setSize(350, 220);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setLayout(null);

        JLabel userLabel = new JLabel("Użytkownik:");
        userLabel.setBounds(20, 20, 100, 25);
        add(userLabel);

        poleUser = new JTextField();
        poleUser.setBounds(130, 20, 150, 25);
        add(poleUser);

        JLabel passLabel = new JLabel("Hasło:");
        passLabel.setBounds(20, 60, 100, 25);
        add(passLabel);

        polePass = new JPasswordField();
        polePass.setBounds(130, 60, 150, 25);
        add(polePass);

        przyciskLogin = new JButton("Zaloguj");
        przyciskLogin.setBounds(100, 100, 120, 30);
        add(przyciskLogin);

        etykietaStatus = new JLabel("Status: oczekiwanie...");
        etykietaStatus.setBounds(20, 140, 250, 25);
        add(etykietaStatus);

        setLocationRelativeTo(null);
        setVisible(true);
    }
}